<!doctype html>
<html>
<head>
  <!--Compiled JS-->
  <script src="../../../out/anychart.min.js"></script>

  <!--Non Compiled JS-->
  <!--<script src="../../../contrib/closure-library/closure/goog/base.js"></script>-->
  <!--<script src="../../../src/deps.js"></script>-->
  <!--<script>-->
  <!--goog.require("anychart.modules.anychart");-->
  <!--</script>-->
  <script>
    anychart.onDocumentReady(function() {
      var json = {
        "chart": {
          "type": "area",
          "container": "container",
          "title": "100% Stacked Area Chart",
          "yScale": {
            "stackMode": "percent",
            "maximum": 100,
            "ticks": {
              "interval": 10
            }
          },
          "xAxes": [{
            "title": {
              "margin": {"bottom": 20},
              "padding": {"right": 15}
            }
          }],
          "series": [
            {
              "data": [
                {"x": "P1", "value": "162"},
                {"x": "P2", "value": "134"},
                {"x": "P3", "value": "116"},
                {"x": "P4", "value": "122"},
                {"x": "P5", "value": "178"},
                {"x": "P6", "value": "144"},
                {"x": "P7", "value": "125"},
                {"x": "P8", "value": "176"},
                {"x": "P9", "value": "156"},
                {"x": "P10", "value": "195"},
                {"x": "P11", "value": "215"},
                {"x": "P10", "value": "176"},
                {"x": "P13", "value": "167"},
                {"x": "P14", "value": "142"},
                {"x": "P15", "value": "117"},
                {"x": "P16", "value": "113"},
                {"x": "P17", "value": "132"},
                {"x": "P18", "value": "146"},
                {"x": "P19", "value": "169"},
                {"x": "P20", "value": "184"}
              ],
              "markers": {
                "enabled": true,
                "size": 3,
                "type": "circle"
              },
              "hoverMarkers": {
                "enabled": true,
                "size": 3,
                "type": "circle"
              }
            },
            {
              "data": [
                {"x": "P1", "value": "142"},
                {"x": "P2", "value": "154"},
                {"x": "P3", "value": "126"},
                {"x": "P4", "value": "132"},
                {"x": "P5", "value": "168"},
                {"x": "P6", "value": "154"},
                {"x": "P7", "value": "135"},
                {"x": "P8", "value": "166"},
                {"x": "P9", "value": "188"},
                {"x": "P10", "value": "120"},
                {"x": "P11", "value": "115"},
                {"x": "P10", "value": "136"},
                {"x": "P13", "value": "147"},
                {"x": "P14", "value": "172"},
                {"x": "P15", "value": "137"},
                {"x": "P16", "value": "123"},
                {"x": "P17", "value": "134"},
                {"x": "P18", "value": "146"},
                {"x": "P19", "value": "159"},
                {"x": "P20", "value": "144"}
              ],
              "markers": {
                "enabled": true,
                "size": 3,
                "type": "circle"
              },
              "hoverMarkers": {
                "enabled": true,
                "size": 3,
                "type": "circle"
              }
            },
            {
              "data": [
                {"x": "P1", "value": "122"},
                {"x": "P2", "value": "144"},
                {"x": "P3", "value": "116"},
                {"x": "P4", "value": "162"},
                {"x": "P5", "value": "148"},
                {"x": "P6", "value": "194"},
                {"x": "P7", "value": "145"},
                {"x": "P8", "value": "136"},
                {"x": "P9", "value": "118"},
                {"x": "P10", "value": "130"},
                {"x": "P11", "value": "155"},
                {"x": "P10", "value": "166"},
                {"x": "P13", "value": "137"},
                {"x": "P14", "value": "152"},
                {"x": "P15", "value": "177"},
                {"x": "P16", "value": "183"},
                {"x": "P17", "value": "144"},
                {"x": "P18", "value": "166"},
                {"x": "P19", "value": "189"},
                {"x": "P20", "value": "134"}
              ],
              "color": "#EEEE25"
            }
          ]
        }
      };


      //using fill function we can create a pretty gradient for the series
      //note that we using series sourceColor here, which can be configured separately for each series by "color" method
      var fillFunction = function() {
        return {
          keys: [
            {offset: 0, color: this.sourceColor},
            {offset: 1, color: anychart.color.darken(this.sourceColor)}
          ], angle: -90, opacity: 1
        };
      };

      var chart = anychart.fromJson(json);
      chart.getSeries(0).fill(fillFunction);
      chart.getSeries(1).fill(fillFunction);
      chart.getSeries(2).fill(fillFunction);

      //set yAxis labels formatting, force it to add % to values
      chart.yAxis().labels().textFormatter(function(info) {
        return info.value + "%";
      });

      chart.draw();
    });
  </script>
</head>
<body>
<div id="container" style="border: 1px solid; width: 800px; height: 600px;"></div>
</body>
</html>
