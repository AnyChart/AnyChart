if(!_.mekko){_.mekko=1;(function($){var PP=function(a,b){a.WR&&$.Rt(a,b)},QP=function(a,b,c,d,e,f){$.xB.call(this,a,b,c,d,e);this.nv=f},RP=function(a,b){$.wA.call(this,!0);this.Ga("mekko");this.tw=this.Pv=null;this.zla=!!a;this.nv=!!b;this.ta("defaultSeriesType","mekko");$.T(this.ua,[["pointsPadding",4294967295,1]])},SP=function(a,b,c,d,e,f){a.data.length&&(a.data[0].j.missing||(c.push(a.X.name()),d.push(a.data[0].data.value)),a.data[b].j.missing||(e.push(a.X.name()),f.push(a.data[b].data.value)))},Mea=function(a){if(a.Re.length){var b=
[],c=[],d=[],e=[],f=a.Re[0].data.length-1,h;if("direct"==a.bb().kx())for(h=a.Re.length;h--;)SP(a.Re[h],f,b,d,c,e);else for(h=0;h<a.Re.length;h++)SP(a.Re[h],f,b,d,c,e);f=a.FT();f.Bg();f.Xc.apply(f,b);f.Hg();PP(f,d);f=a.RV();f.Bg();f.Xc.apply(f,c);f.Hg();PP(f,e)}},TP=function(a){$.JA.call(this,a)},UP=function(a,b,c,d){if(0!=b.get("value")&&c){var e=b.j("x"),f=b.j("zero"),h=b.j("value"),k=d?b.j("pointWidth"):a.o;b.j("pointWidth",k);d=Math.abs($.Tm($.L(a.X.ya.g("pointsPadding"),k)));k-=2*d;e-=k/2;k=e+
k;b=b.j("stroke")?b.j("stroke"):c.path.stroke();b=$.$b(b);var l=b/2;a.xa?(e=$.R(e,1),k=$.R(k,1)):(h=$.R(h,1),f=$.R(f,1));e=$.R(e+l,b);k=$.R(k-l,b);h+=a.xa?-l:l;f-=a.xa?-l:l;h=$.R(h,b);f=$.R(f,b);d&&(b=Math.abs(f-h),d=b>2*d?d:b/2-1,f-=d,h+=d);d=c.path;$.HA(d,a.xa,e,h);$.IA(d,a.xa,k,h,k,f,e,f);d.close();d=c.hatchFill;$.HA(d,a.xa,e,h);$.IA(d,a.xa,k,h,k,f,e,f);d.close()}},VP=function(a){var b=new RP(!1);b.re="mekko";b.Wg();b.$c();for(var c=0,d=arguments.length;c<d;c++)b.mekko(arguments[c]);return b},
WP=function(a){var b=new RP(!0);b.Ga("mosaic");b.re="mosaic";b.Wg();b.$c();for(var c=0,d=arguments.length;c<d;c++)b.mekko(arguments[c]);return b},XP=function(a){var b=new RP(!1,!0);b.Ga("barmekko");b.re="barmekko";b.Wg();b.$c();for(var c=0,d=arguments.length;c<d;c++)b.mekko(arguments[c]);return b};$.H(QP,$.xB);QP.prototype.r4=function(a){return!this.nv&&0>a?0:a};QP.prototype.gq=function(a,b,c){(this.nv||0<a.get("value"))&&QP.u.gq.call(this,a,b,c)};
QP.prototype.tf=function(a,b,c){(this.nv||0<a.get("value"))&&QP.u.tf.call(this,a,b,c)};$.H(RP,$.wA);var YP={};YP.mekko={Fb:29,Kb:2,Lb:[$.RH,$.qH],Ob:null,Jb:null,Cb:$.QG|5767168,Ab:"value",zb:"zero"};RP.prototype.fj=YP;$.Nz(RP,RP.prototype.fj);$.g=RP.prototype;$.g.sa=$.wA.prototype.sa|268435456;$.g.FE=function(a){RP.u.FE.call(this,a);$.X(a,64)&&this.B(268435456,1)};
$.g.FT=function(){if($.p(void 0)){var a=$.jt(this.Pv,void 0,"ordinal",$.bt,null,this.hL,this);if(a){var b=this.Pv==a;this.Pv=a;this.Pv.da(b);if(!b){a=458752;if(this.ev()&&"categories"==this.eg().g("itemsSourceMode")||this.nv)a|=512;this.B(a,268435457)}}return this}this.Pv||(a=this.bu(),b=this.vf("firstCategoriesScale"),this.Pv=$.jt(this.Pv,a[b],null,void 0,null,this.hL,this),this.Pv.da(!1));return this.Pv};
$.g.RV=function(){if($.p(void 0)){var a=$.jt(this.tw,void 0,"ordinal",$.bt,null,this.hL,this);if(a){var b=this.tw==a;this.tw=a;this.tw.da(b);b||this.B(458752,268435457)}return this}this.tw||(a=this.bu(),b=this.vf("lastCategoriesScale"),this.tw=$.jt(this.tw,a[b],null,void 0,null,this.hL,this),this.tw.da(!1));return this.tw};$.g.hL=function(a){this.ka();if($.X(a,4)){a=458752;if(this.ev()&&"categories"==this.eg().g("itemsSourceMode")||this.nv)a|=512;this.B(a,268435456)}this.da(!0)};$.g.CA=function(){return $.bt};
$.g.xD=function(){return["Mekko chart X scale","ordinal"]};$.g.tH=function(){return"linear"};$.g.sH=function(){return 15};$.g.SM=function(){return["Chart scale","ordinal, linear, log, date-time"]};$.g.ev=function(){return!0};
$.g.Ol=function(a,b){if(this.nv&&1==this.tj()&&$.J(this.Ra(),$.Qt)){this.pb();var c=[],d,e=this.Ra().names(),f=this.Ra().values(),h=this.Ai(0);for(d=0;d<f.length;d++){var k=null;$.D(b)&&(k={value:f[d],name:e[d]},k=b.call(k,k));$.z(k)||(k=String(e[d]));var l=this.cc().nc(d);c.push({text:k,iconType:"square",iconStroke:$.Wl(l,1),iconFill:l,iconHatchFill:h.hatchFill()})}return c}return RP.u.Ol.call(this,a,b)};
$.g.X5=function(a){if(this.zla){var b=!this.Ra().Ne(),c="left"==a.g("orientation")||"bottom"==a.g("orientation");a.scale(c==b?this.FT():this.RV())}else a.scale(this.bb())};
$.g.pb=function(){var a=this.J(196608);this.J(458752)&&this.B(268435456);RP.u.pb.call(this);if(a){var b,c=[],d=[],e=this.Re.length;for(a=0;a<this.Re.length;a++){var f=this.Re[a].data;for(b=0;b<f.length;b++){$.p(d[b])||(d[b]=0);if(f[b].j.missing){d[b]++;var h=0}else h=$.N(f[b].data.value),h=this.nv?Math.abs(h):0>h?0:h;void 0==c[b]?c.push(h):c[b]+=h}}for(a=0;a<this.Re.length;a++)for(f=this.Re[a].data,b=h=0;b<f.length;b++)f[b].j.category=d[b]<e?h++:h;c=(0,$.Ye)(c,function(a,b){return d[b]<e});PP(this.Ra(),
c)}this.J(268435456)&&(Mea(this),this.I(268435456))};var ZP={};$.rq(ZP,0,"pointsPadding",$.Cq);$.U(RP,ZP);$.g=RP.prototype;$.g.Gt=function(a,b){return new QP(this,this,a,b,!1,this.nv)};$.g.Ss=function(){return"mekko"};$.g.ML=function(){return 3};$.g.F=function(){var a=RP.u.F.call(this);$.Tq(this,ZP,a);return{chart:a}};$.g.ft=function(a,b,c){RP.u.ft.call(this,a,b,c)};
$.g.EX=function(a,b,c,d){var e=a.F();(a.scale()==this.FT()&&"left"!=a.g("orientation")||a.scale()==this.RV()&&"right"!=a.g("orientation"))&&$.Zz(e,"scale",a.scale(),b,c);d.push($.oa(a));return e};$.g.U=function(a,b){RP.u.U.call(this,a,b);$.Iq(this,ZP,a)};var $P=RP.prototype;$P.xScale=$P.Ra;$P.yScale=$P.bb;$P.crosshair=$P.mh;$P.xAxis=$P.$h;$P.getXAxesCount=$P.wD;$P.yAxis=$P.ij;$P.getYAxesCount=$P.yD;$P.getSeries=$P.ef;$P.palette=$P.cc;$P.markerPalette=$P.Nf;$P.hatchFillPalette=$P.ve;$P.getType=$P.Ma;
$P.addSeries=$P.kl;$P.getSeriesAt=$P.Ai;$P.getSeriesCount=$P.tj;$P.removeSeries=$P.Ao;$P.removeSeriesAt=$P.Rn;$P.removeAllSeries=$P.Dp;$P.getPlotBounds=$P.dg;$P.annotations=$P.Nk;$P.lineMarker=$P.Ym;$P.rangeMarker=$P.gn;$P.textMarker=$P.mn;$.H(TP,$.JA);$.PG[29]=TP;$.g=TP.prototype;$.g.type=29;$.g.flags=263905;$.g.Kh={path:"path",hatchFill:"path"};$.g.ug=function(a,b){if(!a.j("missing")){var c=this.bd.ed(b);UP(this,a,c)}};$.g.yt=function(a){var b=a.j("shapes"),c;for(c in b)b[c].clear();UP(this,a,b,!0)};$.g.WB=function(a){if(!a.j("missing")){var b=a.j("shapes"),c;for(c in b)b[c].clear();UP(this,a,b,!0)}};$.Tp.mekko=VP;$.Tp.mosaic=WP;$.Tp.barmekko=XP;$.E("anychart.mekko",VP);$.E("anychart.mosaic",WP);$.E("anychart.barmekko",XP);}).call(this,$)}
