if(!_.mekko){_.mekko=1;(function($){var VP=function(a,b){a.NR&&$.Tt(a,b)},WP=function(a,b,c,d,e,f){$.xB.call(this,a,b,c,d,e);this.lv=f},XP=function(a,b){$.yA.call(this,!0);this.Ga("mekko");this.qw=this.Nv=null;this.qla=!!a;this.lv=!!b;this.ta("defaultSeriesType","mekko");$.T(this.ua,[["pointsPadding",4294967295,1]])},YP=function(a,b,c,d,e,f){a.data.length&&(a.data[0].j.missing||(c.push(a.X.name()),d.push(a.data[0].data.value)),a.data[b].j.missing||(e.push(a.X.name()),f.push(a.data[b].data.value)))},Lea=function(a){if(a.Re.length){var b=
[],c=[],d=[],e=[],f=a.Re[0].data.length-1,h;if("direct"==a.bb().jx())for(h=a.Re.length;h--;)YP(a.Re[h],f,b,d,c,e);else for(h=0;h<a.Re.length;h++)YP(a.Re[h],f,b,d,c,e);f=a.xT();f.Ag();f.Xc.apply(f,b);f.Hg();VP(f,d);f=a.MV();f.Ag();f.Xc.apply(f,c);f.Hg();VP(f,e)}},ZP=function(a){$.LA.call(this,a)},$P=function(a,b,c,d){if(0!=b.get("value")&&c){var e=b.j("x"),f=b.j("zero"),h=b.j("value"),k=d?b.j("pointWidth"):a.o;b.j("pointWidth",k);d=Math.abs($.Wm($.L(a.X.ya.g("pointsPadding"),k)));k-=2*d;e-=k/2;k=e+
k;b=b.j("stroke")?b.j("stroke"):c.path.stroke();b=$.cc(b);var l=b/2;a.xa?(e=$.R(e,1),k=$.R(k,1)):(h=$.R(h,1),f=$.R(f,1));e=$.R(e+l,b);k=$.R(k-l,b);h+=a.xa?-l:l;f-=a.xa?-l:l;h=$.R(h,b);f=$.R(f,b);d&&(b=Math.abs(f-h),d=b>2*d?d:b/2-1,f-=d,h+=d);d=c.path;$.JA(d,a.xa,e,h);$.KA(d,a.xa,k,h,k,f,e,f);d.close();d=c.hatchFill;$.JA(d,a.xa,e,h);$.KA(d,a.xa,k,h,k,f,e,f);d.close()}},aQ=function(a){var b=new XP(!1);b.re="mekko";b.Wg();b.$c();for(var c=0,d=arguments.length;c<d;c++)b.mekko(arguments[c]);return b},
bQ=function(a){var b=new XP(!0);b.Ga("mosaic");b.re="mosaic";b.Wg();b.$c();for(var c=0,d=arguments.length;c<d;c++)b.mekko(arguments[c]);return b},cQ=function(a){var b=new XP(!1,!0);b.Ga("barmekko");b.re="barmekko";b.Wg();b.$c();for(var c=0,d=arguments.length;c<d;c++)b.mekko(arguments[c]);return b};$.H(WP,$.xB);WP.prototype.n4=function(a){return!this.lv&&0>a?0:a};WP.prototype.gq=function(a,b,c){(this.lv||0<a.get("value"))&&WP.u.gq.call(this,a,b,c)};
WP.prototype.tf=function(a,b,c){(this.lv||0<a.get("value"))&&WP.u.tf.call(this,a,b,c)};$.H(XP,$.yA);var dQ={};dQ.mekko={Fb:29,Kb:2,Lb:[$.ZH,$.yH],Ob:null,Jb:null,Cb:$.YG|5767168,Ab:"value",zb:"zero"};XP.prototype.fj=dQ;$.Pz(XP,XP.prototype.fj);$.g=XP.prototype;$.g.sa=$.yA.prototype.sa|268435456;$.g.DE=function(a){XP.u.DE.call(this,a);$.X(a,64)&&this.B(268435456,1)};
$.g.xT=function(){if($.n(void 0)){var a=$.mt(this.Nv,void 0,"ordinal",$.et,null,this.cL,this);if(a){var b=this.Nv==a;this.Nv=a;this.Nv.da(b);if(!b){a=458752;if(this.cv()&&"categories"==this.eg().g("itemsSourceMode")||this.lv)a|=512;this.B(a,268435457)}}return this}this.Nv||(a=this.au(),b=this.vf("firstCategoriesScale"),this.Nv=$.mt(this.Nv,a[b],null,void 0,null,this.cL,this),this.Nv.da(!1));return this.Nv};
$.g.MV=function(){if($.n(void 0)){var a=$.mt(this.qw,void 0,"ordinal",$.et,null,this.cL,this);if(a){var b=this.qw==a;this.qw=a;this.qw.da(b);b||this.B(458752,268435457)}return this}this.qw||(a=this.au(),b=this.vf("lastCategoriesScale"),this.qw=$.mt(this.qw,a[b],null,void 0,null,this.cL,this),this.qw.da(!1));return this.qw};$.g.cL=function(a){this.ka();if($.X(a,4)){a=458752;if(this.cv()&&"categories"==this.eg().g("itemsSourceMode")||this.lv)a|=512;this.B(a,268435456)}this.da(!0)};$.g.CA=function(){return $.et};
$.g.vD=function(){return["Mekko chart X scale","ordinal"]};$.g.nH=function(){return"linear"};$.g.mH=function(){return 15};$.g.OM=function(){return["Chart scale","ordinal, linear, log, date-time"]};$.g.cv=function(){return!0};
$.g.Ml=function(a,b){if(this.lv&&1==this.tj()&&$.J(this.Ra(),$.St)){this.ob();var c=[],d,e=this.Ra().names(),f=this.Ra().values(),h=this.zi(0);for(d=0;d<f.length;d++){var k=null;$.D(b)&&(k={value:f[d],name:e[d]},k=b.call(k,k));$.z(k)||(k=String(e[d]));var l=this.cc().nc(d);c.push({text:k,iconType:"square",iconStroke:$.Xl(l,1),iconFill:l,iconHatchFill:h.hatchFill()})}return c}return XP.u.Ml.call(this,a,b)};
$.g.S5=function(a){if(this.qla){var b=!this.Ra().Ne(),c="left"==a.g("orientation")||"bottom"==a.g("orientation");a.scale(c==b?this.xT():this.MV())}else a.scale(this.bb())};
$.g.ob=function(){var a=this.J(196608);this.J(458752)&&this.B(268435456);XP.u.ob.call(this);if(a){var b,c=[],d=[],e=this.Re.length;for(a=0;a<this.Re.length;a++){var f=this.Re[a].data;for(b=0;b<f.length;b++){$.n(d[b])||(d[b]=0);if(f[b].j.missing){d[b]++;var h=0}else h=$.N(f[b].data.value),h=this.lv?Math.abs(h):0>h?0:h;void 0==c[b]?c.push(h):c[b]+=h}}for(a=0;a<this.Re.length;a++)for(f=this.Re[a].data,b=h=0;b<f.length;b++)f[b].j.category=d[b]<e?h++:h;c=(0,$.Ze)(c,function(a,b){return d[b]<e});VP(this.Ra(),
c)}this.J(268435456)&&(Lea(this),this.I(268435456))};var eQ={};$.vq(eQ,0,"pointsPadding",$.Gq);$.U(XP,eQ);$.g=XP.prototype;$.g.Ft=function(a,b){return new WP(this,this,a,b,!1,this.lv)};$.g.Rs=function(){return"mekko"};$.g.HL=function(){return 3};$.g.F=function(){var a=XP.u.F.call(this);$.Xq(this,eQ,a);return{chart:a}};$.g.et=function(a,b,c){XP.u.et.call(this,a,b,c)};
$.g.xX=function(a,b,c,d){var e=a.F();(a.scale()==this.xT()&&"left"!=a.g("orientation")||a.scale()==this.MV()&&"right"!=a.g("orientation"))&&$.aA(e,"scale",a.scale(),b,c);d.push($.oa(a));return e};$.g.U=function(a,b){XP.u.U.call(this,a,b);$.Pq(this,eQ,a)};var fQ=XP.prototype;fQ.xScale=fQ.Ra;fQ.yScale=fQ.bb;fQ.crosshair=fQ.mh;fQ.xAxis=fQ.Yh;fQ.getXAxesCount=fQ.uD;fQ.yAxis=fQ.ij;fQ.getYAxesCount=fQ.wD;fQ.getSeries=fQ.ef;fQ.palette=fQ.cc;fQ.markerPalette=fQ.Mf;fQ.hatchFillPalette=fQ.ve;fQ.getType=fQ.Ma;
fQ.addSeries=fQ.jl;fQ.getSeriesAt=fQ.zi;fQ.getSeriesCount=fQ.tj;fQ.removeSeries=fQ.yo;fQ.removeSeriesAt=fQ.Rn;fQ.removeAllSeries=fQ.Dp;fQ.getPlotBounds=fQ.cg;fQ.annotations=fQ.Lk;fQ.lineMarker=fQ.Ym;fQ.rangeMarker=fQ.gn;fQ.textMarker=fQ.mn;$.H(ZP,$.LA);$.XG[29]=ZP;$.g=ZP.prototype;$.g.type=29;$.g.flags=263905;$.g.Ih={path:"path",hatchFill:"path"};$.g.ug=function(a,b){if(!a.j("missing")){var c=this.bd.ed(b);$P(this,a,c)}};$.g.xt=function(a){var b=a.j("shapes"),c;for(c in b)b[c].clear();$P(this,a,b,!0)};$.g.UB=function(a){if(!a.j("missing")){var b=a.j("shapes"),c;for(c in b)b[c].clear();$P(this,a,b,!0)}};$.Xp.mekko=aQ;$.Xp.mosaic=bQ;$.Xp.barmekko=cQ;$.E("anychart.mekko",aQ);$.E("anychart.mosaic",bQ);$.E("anychart.barmekko",cQ);}).call(this,$)}
