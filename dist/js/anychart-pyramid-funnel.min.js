/**
 * AnyChart is lightweight robust charting library with great API and Docs, that works with your stack and has tons of chart types and features.
 *
 * Modules: pyramid-funnel, theme-pyramid-funnel
 * Version: 8.1.0.1793 (2018-01-25 10:54)
 * License: https://www.anychart.com/buy/
 * Contact: sales@anychart.com
 * Copyright: AnyChart.com 2018. All rights reserved.
 */
(function(global,factory){if(typeof module==='object'&&typeof module.exports==='object'){var wrapper=function(w){if(!w.document){throw Error('AnyChart requires a window with a document');}factory.call(w,w,w.document);try{w.acgraph.isNodeJS=Object.prototype.toString.call(global.process)=="[object process]";}catch(e){};return w.anychart;};module.exports=global.document?wrapper(global):wrapper;}else{factory.call(global,window,document)}})(typeof window!=='undefined'?window:this,function(window,document,opt_noGlobal){var $,_,$_=this.anychart;if($_&&(_=$_._)){$=$_.$}else{throw Error('anychart-base.min.js module should be included first. See modules explanation at https://docs.anychart.com/Quick_Start/Modules for details');$={};_={}}if(!_.pyramid_funnel){_.pyramid_funnel=1;(function($){var LQ=function(a,b,c){$.hv.call(this,null,[],[],b,c);this.Ba=a},NQ=function(a,b,c){$.hv.call(this,null,[],[],b,c);this.Ba=a;this.I=!MQ(this.Ba);this.j=this.Ba.N("connectorStroke")},OQ=function(a,b){$.Qt.call(this);$.U(this);this.U=null;this.Gb=[];this.ba=null;this.Bc=1;this.Sa=this.j=null;this.state=new $.ut(this);this.data(a||null,b);var c={};$.to(c,[["fill",528,1],["stroke",528,1],["hatchFill",528,1],["labels",0,0],["markers",0,0]]);this.g=new $.qv(this,c,$.Vk);$.gp(this.g,"labelsAfterInitCallback",
function(a){$.T(a,this.Bd,this);a.ib(this);this.D(4096,1)});this.g.oa.markersAfterInitCallback=$.sv;c={};$.to(c,[["fill",16,1],["stroke",16,1],["hatchFill",0,0],["labels",0,0],["markers",0,0]]);this.Jb=new $.qv(this,c,1);this.$b=new $.qv(this,c,2);$.to(this.F,[["baseWidth",16,1],["neckHeight",16,1],["neckWidth",16,1],["pointsPadding",16,1],["reversed",16,1],["overlapMode",4096,1],["connectorLength",4100,9],["connectorStroke",16,1]]);this.ja(!1)},PQ=function(a,b){var c=a.la().G("point");if($.n(c)){var d=
$.Tk("fill",1,!0)(a,b,!1,!0);c.fill(d);d=$.Tk("stroke",2,!0)(a,b,!1,!0);c.stroke(d)}},QQ=function(a,b,c){if($.J(a.j,b))c&&a.j.Y(c);else{var d=!!a.j;$.K(a.j);a.j=new b;c&&a.j.Y(c);$.T(a.j,a.C3,a);$.L(a,a.j);d&&a.D(528,1)}},RQ=function(a,b){var c=a.la().G("hatchPoint");if(c){var d=$.Tk("hatchFill",3,!0)(a,b,!1);c.stroke(null).fill(d)}},SQ=function(a,b){var c=a.gc,d=a.bb.height,e=a.re,f=a.Tc;return b>d-f||d==f?e:e+(d-f-b)/(d-f)*(c-e)},TQ=function(a){a=$.P(a);return 0>=a||!(0,window.isFinite)(a)},UQ=
function(a){var b=a.la(),c=b.sa(),d=a.bb,e,f,h,k,l,m;e=b.G("height")/2;k=b.G("startY");l=b.G("height")+k;m=null;if(f=a.Nd)c?c==b.Hb()-1?(k+=f/2,k>l&&(k=l-a.Bc)):(k+=f/2,l-=f/2,k>l&&(k=b.G("startY")+e,l=k+a.Bc)):(l-=f/2,l<k&&(l=a.Bc));h=SQ(a,k);c=a.b-h/2;e=c+h;h=SQ(a,l);f=a.b-h/2;h=f+h;k+=d.top;l+=d.top;c=d.left+c;e=d.left+e;0<a.Tc&&k<a.nd&&l>a.nd&&(m=l,l=a.nd,h=SQ(a,l),f=a.b-h/2,h=f+h);f=d.left+f;h=d.left+h;a.N("reversed")||(k=d.height-(k-d.top)+d.top,l=d.height-(l-d.top)+d.top,m=m?d.height-(m-d.top)+
d.top:null,k=[l,l=k][0],c=[f,f=c][0],e=[h,h=e][0]);b.G("x1",c);b.G("x2",e);b.G("x3",f);b.G("x4",h);b.G("y1",k);b.G("y2",l);b.G("y3",m)},VQ=function(a,b,c,d){var e=a.labels();$.U(e);e.fontOpacity(b);e.da();e.ja(!1);if(d&&a.K)for(b=0;b<a.K.length;b++)if(d=a.K[b])e=a.N("connectorStroke"),e=$.Fk(e,c),d.stroke(e)},Afa=function(a){var b=a.la(),c=b.sa(),d=$.Sx(a.ia),e=$.Sx(a.Da);b.G("point",d);b.G("hatchPoint",e);UQ(a);var f=b.G("x1"),h=b.G("x2"),k=b.G("x3"),l=b.G("x4"),m=b.G("y1"),p=b.G("y2"),q=b.G("y3");
d.moveTo(f,m).lineTo(h,m);q?d.lineTo(l,p).lineTo(l,q).lineTo(k,q).lineTo(k,p):d.lineTo(l,p).lineTo(k,p);d.close();b.G("point",d);d.tag={index:c,ha:a};b=$.zt(a.state,b.sa());PQ(a,b);e&&(e.sd(d.O()),e.tag={index:c,ha:a},RQ(a,b))},YQ=function(a,b){var c=a.la(),d=!!(b&2),e=!d&&!!(b&1),f=c.get("normal"),f=$.n(f)?f.label:void 0,h=c.get("hovered"),h=$.n(h)?h.label:void 0,k=c.get("selected"),k=$.n(k)?k.label:void 0,f=$.pn(f,c.get("label")),h=e?$.pn(h,c.get("hoverLabel")):null,k=d?$.pn(k,c.get("selectLabel")):
null,l=c.sa(),m,p=null,q=a.Fb().labels(),r=a.selected().labels();d?p=m=r:e?p=m=q:m=a.labels();var t=a.labels().Pd(l),u=f&&$.n(f.enabled)?f.enabled:null,v=h&&$.n(h.enabled)?h.enabled:null,w=k&&$.n(k.enabled)?k.enabled:null,q=e||d?e?null===v?null===q.enabled()?null===u?a.labels().enabled():u:q.enabled():v:null===w?null===r.enabled()?null===u?a.labels().enabled():u:r.enabled():w:null===u?a.labels().enabled():u,u=WQ(a,null,b),v=a.mc(),r=MQ(a),w=!0;if(!e&&!d&&r&&"no-overlap"==a.N("overlapMode")){m=m.Ci(v,
u,f,l);var w=a.la(),x=[w.G("x1"),w.G("y1"),w.G("x2"),w.G("y1"),w.G("x4"),w.G("y2"),w.G("x3"),w.G("y2")],z=!0,E,N,Q,O,V,S,Y,da,la,Ha;E=0;for(N=x.length;E<N-1;E+=2)Q=E==N-2?0:E+2,O=E==N-2?1:E+3,V=x[E],S=x[E+1],Y=x[Q],da=x[O],la=m[E],Ha=m[E+1],Q=m[Q],O=m[O],w.G("y3")&&4==E&&(S=$.P(w.G("y3")),da=$.P(w.G("y3"))),V==Y&&(Y+=.01),z=(z=z&&1==$.Sl(V,S,Y,da,la,Ha))&&1==$.Sl(V,S,Y,da,Q,O);w=z}q&&w?(t?(t.zg(),t.Pe(v),t.jc(u)):t=a.labels().add(v,u,l),$.eu(t,p),t.Jc(f,e?h:k),c.G("labelWidthForced")&&(t.width($.P(c.G("labelWidthForced"))),
c=h&&h.anchor?h.anchor:null,k=k&&k.anchor?k.anchor:null,f&&f.anchor&&f.anchor||c||k||(u=WQ(a,t,b),t.jc(u))),t.da(),(e||d)&&!t.aa()&&a.labels().Qe()&&(t.aa(a.labels().Qe()),t.aa().parent()||t.aa().parent(a.labels().aa()),t.da())):t&&t.clear();q&&!r&&XQ(a,t,b)},WQ=function(a,b,c){var d=ZQ(a),e=a.la(),f=a.bb,h=$.n(c)?!!(c&2):null,k=$.n(c)?!h&&!!(c&1):null,l=e.get("normal"),l=$.n(l)?l.label:void 0,m=e.get("hovered"),m=$.n(m)?m.label:void 0,p=e.get("selected"),p=$.n(p)?p.label:void 0,l=$.pn(l,e.get("label")),
m=k?$.pn(m,e.get("hoverLabel")):null,h=(p=h?$.pn(p,e.get("selectLabel")):null)||m||l||{},l=$.P(e.G("x1")),p=$.P(e.G("x2")),m=$.P(e.G("y1")),k=$.P(e.G("y2")),q=$.P(e.G("y3")),e=p-l,k=q?q-m:k-m,m=m+k/2,p=$.P(h.offsetY)||0;b?c=$Q(a,b,c):(c=a.labels().Ci(a.mc(),null,h),c=$.Vl(c));h=b&&b.N("anchor")||a.labels().N("anchor");b&&(m=b.jc().value.y);b=m+p;c.height>k&&("left-center"==h||"center"==h||"right-center"==h)&&(m+c.height/2>f.top+f.height&&(m=f.top+f.height-c.height/2),m-c.height/2<f.top&&(m=f.top+
c.height/2));b=aR(a,b);switch(d){case "inside":l+=e/2;break;case "outside-left":l=a.b-b/2;l=f.left+l-a.Ma-c.width/2;break;case "outside-left-in-column":l=f.left+c.width/2;break;case "outside-right":l=a.b+b/2;l=f.left+l+a.Ma+c.width/2;break;case "outside-right-in-column":l=f.left+f.width-c.width/2}if("left-top"==h||"center-top"==h||"right-top"==h)m-=.5;else if("left-bottom"==h||"center-bottom"==h||"right-bottom"==h)m+=.5;return{value:{x:l,y:m}}},$Q=function(a,b,c){var d=!!(c&2),e=!d&&!!(c&1);c=a.data().get(b.sa(),
"label");e=e?a.data().get(b.sa(),"hoverLabel"):null;d=(d?a.data().get(b.sa(),"selectLabel"):null)||e||c||{};a.data().G(b.sa(),"labelWidthForced")&&(d=$.xc(d),d.width=b.width());a.la().select(b.sa());b.Pe(a.mc());a=a.labels().Ci(b.Pe(),b.jc(),d);return $.Vl(a)},dR=function(a,b){if("no-overlap"==a.N("overlapMode")&&!MQ(a)&&a.labels().enabled()){bR(a);a.me=0;var c=a.state.Xg()|(b?$.zt(a.state,b.sa()):0);cR(a,c,b)}},cR=function(a,b,c){if(10!=a.me){for(var d=a.la().Hb(),e=!1,f,h,k,l,m=a.N("reversed"),
p=0;p<d-1;p++)if(f=m?p:d-1-p,(f=a.labels().Pd(f))&&0!=f.enabled()&&(h=$Q(a,f,b),k=m?Bfa(a,f):Cfa(a,f))){l=$Q(a,k,b);var q=eR(a,f),r=eR(a,k);q&&r&&q==r||!(l.top<=h.top+h.height)||(e=!0,q&&r?Dfa(a,q,r):!q&&r?fR(a,k,f):fR(a,f,k))}e&&((0,$.Na)(a.Gb,function(a){if(2>a.labels.length){var b=a.Ba;b.Gb.length&&(a.clear(),$.Ya(b.Gb,a))}else{for(var d,e,f=0,h=0,k=b=0,l=a.labels.length;k<l;k++)d=a.labels[k],e=a.Ba.state.Xg()|$.zt(a.Ba.state,d.sa()),e=gR(a,d,e),d=a.Ba.data().G(d.sa(),"point"),d=d.ob(),k||(f=d.top),
b+=e.height,h+=d.height;h+=a.Ba.Nd*(l-1);f=f+h/2-b/2;h=a.Ba.bb;f+b>h.top+h.height&&(f=h.top+h.height-b);f<h.top&&(f=h.top);a.y=f;Efa(a,c)}}),a.me++,cR(a,b,c))}},Bfa=function(a,b){if(!b)return null;var c=a.la().Hb();if(b.sa()==c-1)return null;for(var d,e=b.sa()+1;e<=c-1;e++)if((d=a.labels().Pd(e))&&!1!==d.enabled())return d;return null},Cfa=function(a,b){if(!b||!b.sa())return null;for(var c,d=b.sa()-1;0<=d;d--)if((c=a.labels().Pd(d))&&!1!==c.enabled())return c;return null},fR=function(a,b,c){var d=
eR(a,b);d?d.Lu(c):(d=new hR(a),d.Lu(b),d.Lu(c),a.Gb.push(d))},eR=function(a,b){return a.Gb.length?$.Qa(a.Gb,function(a){return-1!==(0,$.Ra)(a.labels,b)}):null},Dfa=function(a,b,c){var d=b.labels[0].sa(),e=c.labels[0].sa();b.labels=a.N("reversed")==d<e?$.Za(b.labels,c.labels):$.Za(c.labels,b.labels);$.Ya(a.Gb,c)},bR=function(a){a.Gb.length&&((0,$.Na)(a.Gb,function(a){a.clear()}),a.Gb.length=0)},MQ=function(a){return"inside"==ZQ(a)},iR=function(a){a=ZQ(a);return"outside-right-in-column"==a||"outside-left-in-column"==
a},jR=function(a){a=ZQ(a);return"outside-left"==a||"outside-left-in-column"==a},kR=function(a){a=ZQ(a);return"outside-right"==a||"outside-right-in-column"==a},Ffa=function(a){if(a.labels().enabled()&&!MQ(a)){UQ(a);var b=a.la();b.G("labelWidthForced",void 0);var c=a.bb,d,e=b.get("label"),f=WQ(a),h=a.mc(),h=a.labels().Ci(h,f,e),h=$.Vl(h),e=h.left,f=h.left+h.width,k,h=a.N("reversed")?SQ(a,h.top-c.top):SQ(a,c.height-(h.top+h.height)+c.top);if(jR(a))d=a.b-h/2,d=c.left+d,k=a.gc/2,k=c.width-a.b-k,iR(a)?
f+5>d&&(d=f+5-d,d>k?(a.b+=k,d=a.b-h/2,d=c.left+d,b.G("labelWidthForced",d-5-e)):a.b+=d):e<c.left&&(d=Math.abs(c.left-e),d>k?(a.b+=k,d=a.b-h/2,a=d-a.Ma,10>a&&(a=10),b.G("labelWidthForced",a)):a.b+=d);else if(kR(a))if(d=a.b+h/2,d+=c.left,k=a.gc/2,k=c.width-(c.width-a.b)-k,iR(a)){if(0>e||e-5<d)d=Math.abs(d-e+5),0>e||d>k?(a.b=a.b-k,d=a.b+h/2,d+=c.left,b.G("labelWidthForced",f-5-d)):a.b=a.b-d}else f>c.left+c.width&&(d=f-(c.left+c.width),d>k?(a.b=a.b-k,a=c.left+c.width-e+k,10>a&&(a=10),b.G("labelWidthForced",
a)):a.b=a.b-d)}},ZQ=function(a){a=a.labels().N("position");return $.qj(Gfa,"outside"==a?"outside-left":a,"outside-left-in-column")},lR=function(a,b,c,d){var e=a.bb,f=b.sa(),f=a.data().G(f,"point").ob();b=$Q(a,b,d);d=b.left;var h=b.top+b.height/2,k,f=f.top+f.height/2,l=aR(a,f);jR(a)?(d+=b.width,k=a.b-l/2,k+=e.left,d>k&&5>Math.abs(f-h)&&(d=k-5)):kR(a)&&(k=a.b+l/2,k+=e.left,d<k&&5>Math.abs(f-h)&&(d=k+5));c.clear().moveTo(d,h).lineTo(k,f+.001)},XQ=function(a,b,c){var d=b.sa();if(a.K[d])lR(a,b,a.K[d],
c);else{var e=$.Sx(a.Na);a.K[d]=e;e.stroke(a.N("connectorStroke"));lR(a,b,e,c)}},mR=function(a){a=$.Tk("fill",1,!1)(a,$.Vk,!0,!0);return $.Fk(a,1,!0)},Hfa=function(a,b){b=$.tj(b);var c=a.bb,d=a.la(),e=d.G("point").ob(),f=d.G("x1"),h=d.G("y1");switch(b){case "left-top":h=d.G("y1");f=d.G("x1");break;case "left-center":h+=e.height/2;d=aR(a,h);f=a.b-d/2;f+=c.left;break;case "left-bottom":h+=e.height;f=d.G("x3");break;case "center-top":f=a.b;f+=c.left;break;case "center":h+=e.height/2;aR(a,h);f=a.b;f+=
c.left;break;case "center-bottom":h+=e.height;aR(a,h);f=a.b;f+=c.left;break;case "right-top":d=aR(a,h);f+=d;break;case "right-center":h+=e.height/2;d=aR(a,h);f=a.b+d/2;f+=c.left;break;case "right-bottom":f=d.G("x4"),h+=e.height}return{value:{x:f,y:h}}},aR=function(a,b){var c=a.bb;return a.N("reversed")?SQ(a,b-c.top):SQ(a,c.height-b+c.top)},nR=function(a){var b=a.gb();a.tc("mousemove",a.eC);b.dd()},hR=function(a){this.Ba=a;this.labels=[]},Efa=function(a,b){var c=0,d=0,e=null,f=null,h=null,k=a.Ba.state.Xg()|
(b?$.zt(a.Ba.state,b.sa()):0);(0,$.Na)(a.labels,function(b){var l=b.jc().value,p=gR(a,b,k),q=a.y+c+d+p.height/2;if(e&&f&&h){var r=h.y+f.height/2+(e.N("offsetY")||0),t=q-p.height/2+(b.N("offsetY")||0);t<r&&(q+=r-t)}b.jc({value:{x:l.x,y:q}});b.da();XQ(a.Ba,b,k);c+=p.height;d+=b.N("offsetY")||0;e=b;f=p;h={x:l.x,y:q}})},gR=function(a,b,c){var d=!!(c&2),e=!d&&!!(c&1);c=a.Ba.data().get(b.sa(),"label");e=e?a.Ba.data().get(b.sa(),"hoverLabel"):null;d=(d?a.Ba.data().get(b.sa(),"selectLabel"):null)||e||c||
{};a.Ba.data().G(b.sa(),"labelWidthForced")&&(d=$.xc(d),d.width=b.width());a.Ba.la().select(b.sa());b.Pe(a.Ba.mc());a=a.Ba.labels().Ci(b.Pe(),b.jc(),d);return $.Vl(a)},oR=function(a,b){var c=new OQ(a,b);c.R="funnel";c.ra(!0,$.bl("funnel"));return c},pR=function(a,b){var c=new OQ(a,b);c.R="pyramid";c.ra(!0,$.bl("pyramid"));return c},Gfa={XG:"inside",Nga:"outside-left",Oga:"outside-left-in-column",Pga:"outside-right",Qga:"outside-right-in-column"};$.G(LQ,$.hv);$.g=LQ.prototype;
$.g.update=function(){this.g.length=this.F.length=0;for(var a=this.Ba.df();a.advance();)if(!a.G("missing")){var b=a.G("x1"),c=a.G("x2"),d=a.G("x3"),e=a.G("x4"),f=a.G("y1"),h=a.G("y2"),k=a.G("y3");a.G("neck",!!k);this.g.push(b,c,d,e,0,0,0);this.F.push(b,c,d,e,f,h,k?k:0)}};$.g.Ml=function(){VQ(this.Ba,1E-5,1E-5,!MQ(this.Ba))};
$.g.Di=function(){for(var a=this.Ba.df(),b=0;a.advance();)if(!a.G("missing")){a.G("x1",this.b[b++]);a.G("x2",this.b[b++]);a.G("x3",this.b[b++]);a.G("x4",this.b[b++]);a.G("y1",this.b[b++]);a.G("y2",this.b[b++]);a.G("y3",this.b[b++]);var c=this.Ba,d=a,e=d.G("point");e.clear();var f=d.G("x1"),h=d.G("x2"),k=d.G("x3"),l=d.G("x4"),m=d.G("y1"),p=d.G("y2"),q=d.G("y3");e.moveTo(f,m).lineTo(h,m);d.G("neck")?e.lineTo(l,p).lineTo(l,q).lineTo(k,q).lineTo(k,p):e.lineTo(l,p).lineTo(k,p);e.close();if(f=d.G("hatchPoint"))c.la().select(d.sa()),
f.clear(),f.sd(e.O()),d=$.zt(c.state,d.sa()),e=$.Tk("hatchFill",3,!0),f.stroke(null).fill(e(c,d,!1))}};$.g.$g=function(){this.Di()};$.g.ca=function(){LQ.J.ca.call(this);this.Ba=null};$.G(NQ,$.hv);NQ.prototype.update=function(){this.g.length=this.F.length=0;this.g.push(1E-5,1E-5);this.F.push(1,this.j.opacity||1)};NQ.prototype.Di=function(){VQ(this.Ba,this.b[0],this.b[1],this.I)};NQ.prototype.$g=function(){this.Di()};NQ.prototype.ca=function(){NQ.J.ca.call(this);this.j=this.Ba=null;delete this.I};$.G(OQ,$.Qt);$.Go(OQ,["fill","stroke","hatchFill"],"normal");$.g=OQ.prototype;$.g.Ua=function(a){return $.n(a)?(this.g.Y(a),this):this.g};$.g.Fb=function(a){return $.n(a)?(this.Jb.Y(a),this):this.Jb};$.g.selected=function(a){return $.n(a)?(this.$b.Y(a),this):this.$b};$.g.Aa=$.Qt.prototype.Aa|16;$.g.xa=$.Qt.prototype.xa|28688;$.g.Ce=function(){return[this]};$.g.If=function(){return!0};$.g.jh=function(){return!1};$.g.Mg=function(){return!0};
$.g.data=function(a,b){if($.n(a)){if(a){var c=a.title||a.caption;c&&this.title(c);a.rows&&(a=a.rows)}if(this.Ta!==a){this.Ta=a;if(this.Sa!=a||null===a){$.K(this.$);delete this.Ca;var d;$.J(a,$.pp)?(d=a,this.$=null):($.J(a,$.zp)?d=(this.$=a).ve():d=$.y(a)||$.B(a)?(this.$=new $.zp(a,b)).ve():(this.$=new $.zp(null)).ve(),$.L(this,this.$));this.Sa=d.Mk()}$.K(this.jb);this.jb=this.Sa;$.T(this.jb,this.y3,this);$.L(this,this.jb);this.D(29456,17)}return this}return this.jb};
$.g.y3=function(a){$.W(a,16)&&this.D(29456,17)};$.g.la=function(){return this.Ca||(this.Ca=this.jb.la())};$.g.lc=function(){return this.Ca=this.jb.la()};$.g.df=function(){return this.jb.la()};$.g.dC=function(a){if($.J(a,$.yq))return QQ(this,$.yq,a),this;if($.J(a,$.uq))return QQ(this,$.uq,a),this;$.A(a)&&"range"==a.type?QQ(this,$.yq):!$.A(a)&&this.j||QQ(this,$.uq);return $.n(a)?(this.j.Y(a),this):this.j};
$.g.cC=function(a){this.ba||(this.ba=new $.wq,$.T(this.ba,this.A3,this),$.L(this,this.ba));return $.n(a)?(this.ba.Y(a),this):this.ba};$.g.bC=function(a){this.U||(this.U=new $.vq,$.T(this.U,this.z3,this),$.L(this,this.U));return $.n(a)?(this.U.Y(a),this):this.U};$.g.C3=function(a){$.W(a,2)&&this.D(528,1)};$.g.A3=function(a){$.W(a,2)&&this.D(528,1)};$.g.z3=function(a){$.W(a,2)&&this.D(528,1)};$.g.remove=function(){this.tb().aa(null);this.labels().aa(null);bR(this);this.ia&&this.ia.parent(null);OQ.J.remove.call(this)};
$.g.mi=function(a){if(!$.ip(this)){this.Cc();var b=this.la();this.X(4)&&this.D(4112);if(this.X(16)){this.ia?this.ia.clear():(this.ia=new $.Rx(function(){return $.kj()},function(a){a.clear()}),$.L(this,this.ia),this.ia.zIndex(30),this.ia.parent(this.Va));this.Da?this.Da.clear():(this.Da=new $.Rx(function(){return $.kj()},function(a){a.clear()}),$.L(this,this.Da),this.Da.parent(this.Va),this.Da.zIndex(31).cd(!0));this.j&&$.J(this.j,$.yq)&&this.j.count(b.Hb());this.Nd=Math.abs($.Dl($.M(this.N("pointsPadding"),
a.height),2));this.gc=Math.abs($.Dl($.M(this.N("baseWidth"),a.width),2));this.re=Math.abs($.Dl($.M(this.N("neckWidth"),a.width),2));this.Tc=Math.abs($.Dl($.M(this.N("neckHeight"),a.height),2));this.nd=a.top+a.height-this.Tc;this.b=a.width/2;this.Ma=$.M(this.N("connectorLength"),(a.width-this.gc)/2);0>this.Ma&&(this.Ma=5);this.bb=a;var c=0,d,e,f=b.Hb()-$.P(this.Ga("count")),h=$.Dl(this.Nd/a.height*100,2);for(b.reset();b.advance();){d=b.get("value");e=TQ(d);d=TQ(d)?0:$.P(d);var k=$.Dl(d/$.P(this.Ga("sum"))*
100,2);e&&(k=h);k=$.Dl(a.height/(100+f*h)*k,2);k||(k=this.Bc);b.G("value",d);b.G("height",k);b.G("startY",c);b.G("missing",e);c+=k;Ffa(this)}for(b.reset();b.advance();)c=b.sa(),"selected"==String(b.get("state")).toLowerCase()&&this.state.F(2,c),Afa(this);if(this.K)for(c=0;c<this.K.length;c++)(d=this.K[c])&&d.stroke(this.N("connectorStroke"));this.D(4096);this.D(8192);this.W(16)}if(this.X(8192)){this.tb().aa()||this.tb().aa(this.Va);this.tb().clear();for(b.reset();b.advance();)this.cp(this.state.j|
$.zt(this.state,b.sa()));this.tb().da();this.W(8192)}if(this.X(4096)){this.labels().aa()||this.labels().aa(this.Va);this.labels().clear();this.Na&&this.Na.clear();c=MQ(this)?$.bl("pie.insideLabels"):$.bl("pie.outsideLabels");this.labels().Tl(c.autoColor);this.labels().disablePointerEvents(c.disablePointerEvents);MQ(this)||(this.Ma=$.M(this.N("connectorLength"),(a.width-this.gc)/2),0>this.Ma&&(this.Ma=5),this.Na?this.Na.clear():(this.Na=new $.Rx(function(){return $.kj()},function(a){a.clear()}),$.L(this,
this.Na),this.Na.parent(this.Va),this.Na.zIndex(32)),this.Na.clip(a),this.K=[]);for(b.reset();b.advance();)MQ(this)&&b.G("labelWidthForced",void 0),YQ(this,this.state.j|$.zt(this.state,b.sa()));dR(this);this.labels().da();this.labels().Qe().clip(a);this.W(4096)}}};
$.g.zD=function(){if(this.cm().enabled()&&0<this.cm().duration())if(this.ga&&1==this.ga.Zd)this.ga.update();else if(this.X(2048)){$.K(this.ga);this.ga=new $.Qx;var a=this.cm().duration(),b=a*(1-.85),a=new LQ(this,.85*a),b=new NQ(this,b);this.ga.add(a);this.ga.add(b);this.ga.pa("begin",function(){this.bh=this.N("connectorStroke");this.oa.connectorStroke="none";$.Jt(this,!0);$.jp(this,{type:"animationstart",chart:this})},!1,this);this.ga.pa("end",function(){this.oa.connectorStroke=this.bh;$.Jt(this,
!1);$.jp(this,{type:"animationend",chart:this})},!1,this);this.ga.Rh(!1)}};
$.g.Uf=function(a){a={type:a.type,target:this,relatedTarget:$.ir(a.relatedTarget)||a.relatedTarget,domTarget:a.target,relatedDomTarget:a.relatedTarget,offsetX:a.offsetX,offsetY:a.offsetY,clientX:a.clientX,clientY:a.clientY,screenX:a.screenX,screenY:a.screenY,button:a.button,keyCode:a.keyCode,charCode:a.charCode,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey,metaKey:a.metaKey,platformModifierKey:a.platformModifierKey,state:a.state};var b=$.Nm(a.domTarget);a.pointIndex=$.P(b.index);return a};
$.g.fg=function(a){(a=this.sf(a))&&this.dispatchEvent(a)};
$.g.sf=function(a){var b;"pointIndex"in a?b=a.pointIndex:"labelIndex"in a?b=a.labelIndex:"markerIndex"in a&&(b=a.markerIndex);b=$.P(b);a.pointIndex=b;var c=a.type;switch(c){case "mouseout":c="pointmouseout";break;case "mouseover":c="pointmouseover";break;case "mousemove":c="pointmousemove";break;case "mousedown":c="pointmousedown";break;case "mouseup":c="pointmouseup";break;case "click":c="pointclick";break;case "dblclick":c="pointdblclick";break;default:return null}var d=this.data().la();d.select(b)||
d.reset();return{type:c,actualTarget:a.target,iterator:d,sliceIndex:b,pointIndex:b,target:this,originalEvent:a,point:this.Fd(b)}};$.g.Fd=function(a){var b=new $.Cw(this,a),c;this.la().select(a)&&b.ft()&&!TQ(c=b.get("value"))&&(a=$.Dl(c/this.pf("sum")*100,2),b.Ga("percentValue",a),b.Ga("yPercentOfTotal",a));return b};$.g.hn=function(){return[]};$.g.ih=function(a){$.n(a)?this.vg(a):this.zi();return this};
$.g.Zc=function(a){if(($.yt(this.state,1)||$.Gt(this.state.Xg(),1))&&this.enabled()){var b;$.n(a)?b=a:b=this.state.j==$.Vk?window.NaN:void 0;this.state.g(1,b);a=this.la();for(a.reset();a.advance();)YQ(this,$.zt(this.state,a.sa()));dR(this);nR(this)}};
$.g.vg=function(a,b){if(!this.enabled())return this;var c;if($.y(a)){c=$.Et(this.state,1);for(var d=0;d<c.length;d++)$.Sa(a,c[d])||this.state.g(1,c[d]);$.Ct(this.state,a);$.n(b)&&this.eC(b);for(c=this.lc();c.advance();)YQ(this,$.zt(this.state,c.sa()));dR(this)}else if($.C(a)&&(this.Zc(),$.Ct(this.state,a),$.n(b)&&this.eC(b),this.bb)){for(c=this.lc();c.advance();)YQ(this,$.zt(this.state,c.sa()));dR(this,this.labels().Pd(a))}this.la().select(a[0]||a);return this};
$.g.zi=function(){if(!this.enabled())return this;this.state.F(1);dR(this,null);return this};$.g.select=function(a){if(!this.enabled())return this;$.n(a)?this.Ag(a):this.enabled()&&(nR(this),this.state.F(2),dR(this,null));return this};
$.g.Ag=function(a,b){if(!this.enabled())return this;var c=!(b&&b.shiftKey);$.y(a)?(b||this.kd(),this.state.F(2,a,c?1:void 0)):$.C(a)&&this.state.F(2,a,c?1:void 0);if(this.bb){for(c=this.lc();c.advance();)YQ(this,$.zt(this.state,c.sa()));var d;$.C(a)&&(d=this.labels().Pd(a));dR(this,d)}this.la().select(a[0]||a);return this};
$.g.kd=function(a){if(this.enabled()){var b;$.n(a)?b=a:b=this.state.j==$.Vk?window.NaN:void 0;this.state.g(2,b);a=this.la();for(a.reset();a.advance();)YQ(this,$.zt(this.state,a.sa()));dR(this)}};$.g.ii=function(a,b){PQ(this,a);RQ(this,a);this.cp(a);return b};$.g.yl=$.ha;$.g.Ui=$.ha;$.g.Lh=function(a){YQ(this,a);PQ(this,a);RQ(this,a);this.cp(a)};var qR={};$.R(qR,0,"baseWidth",$.Bo);$.R(qR,0,"neckHeight",$.Bo);$.R(qR,0,"neckWidth",$.Bo);$.R(qR,0,"pointsPadding",$.Bo);$.R(qR,0,"reversed",$.Bo);
$.R(qR,0,"overlapMode",$.Gj);$.R(qR,0,"connectorLength",$.Bo);$.R(qR,1,"connectorStroke",$.No);$.Fo(OQ,qR);$.g=OQ.prototype;$.g.Td=function(a,b,c,d,e,f,h){e=b?1==b?this.Jb:this.$b:this.g;h?a=e.N(a):(h=c.get(b?1==b?"hovered":"selected":"normal"),a=$.pn($.n(h)?h[a]:void 0,c.get($.Wk(b,a)),e.N(a)));$.n(a)&&(a=d(a));return a};$.g.bi=function(){return $.ic(this.bC().Sc(this.la().sa())||"diagonal-brick")};$.g.Dk=function(){var a=this.la();return{index:a.sa(),sourceHatchFill:this.bi(),iterator:a}};
$.g.Oi=function(a){var b=this.la();return{index:b.sa(),sourceColor:a||this.dC().Sc(b.sa())||"blue",iterator:b}};$.g.labels=function(a){return $.n(a)?(this.g.labels(a),this):this.g.labels()};$.g.Bd=function(a){var b=0,c=0;$.W(a,1)&&(b|=4096,c|=1);$.W(a,8)&&(b|=4100,c|=9);this.D(b,c)};$.g.tb=function(a){return $.n(a)?(this.g.tb(a),this):this.g.tb()};$.g.Xk=function(a){$.W(a,1)&&this.D(8192,1)};
$.g.cp=function(a){var b=this.la(),c=!!(a&2);a=!c&&!!(a&1);var d=b.get("normal"),d=$.n(d)?d.marker:void 0,e=b.get("hovered"),e=$.n(e)?e.marker:void 0,f=b.get("selected"),f=$.n(f)?f.marker:void 0,d=$.pn(d,b.get("marker")),e=$.pn(e,b.get("hoverMarker")),f=$.pn(f,b.get("selectMarker")),h=this.la().sa(),k=this.Fb().tb(),l=this.selected().tb(),b=c?l:a?k:this.tb(),m=this.tb().sm(h),p=d&&$.n(d.enabled)?d.enabled:null,q=e&&$.n(e.enabled)?e.enabled:null,r=f&&$.n(f.enabled)?f.enabled:null;if(a||c?a?null===
q?null===k.enabled()?null===p?this.tb().enabled():p:k.enabled():q:null===r?null===l.enabled()?null===p?this.tb().enabled():p:l.enabled():r:null===p?this.tb().enabled():p){p=d&&d.position?d.position:null;q=e&&e.position?e.position:null;r=f&&f.position?f.position:null;p=a&&(q||k.position())||c&&(r||l.position())||p||this.tb().position();p=Hfa(this,p);m?m.jc(p):m=this.tb().add(p,h);var t={},p="position anchor offsetX offsetY type size fill stroke enabled".split(" ");d&&(0,$.Na)(p,function(a){a in d&&
(t[a]=d[a])});p=d&&d.type;h=$.n(p)?p:this.tb().Xa()||this.cC().Sc(h);p=e&&e.type;p=$.n(p)?p:k.Xa();q=f&&f.type;q=$.n(q)?q:l.Xa();t.type=c&&$.n(q)?q:a&&$.n(p)?p:h;h=d&&d.fill;h=$.n(h)?h:this.tb().I||mR(this);p=e&&e.fill;p=$.n(p)?p:k.I;q=f&&f.fill;q=$.n(q)?q:l.I;t.fill=c&&$.n(q)?q:a&&$.n(p)?p:h;h=d&&d.stroke;h=$.n(h)?h:this.tb().o||$.Ck(mR(this));p=e&&e.stroke;k=$.n(p)?p:k.o||$.Ck(mR(this));p=f&&f.stroke;l=$.n(p)?p:l.o||$.Ck(mR(this));t.stroke=c&&$.n(l)?l:a&&$.n(k)?k:h;m.zg();$.uu(m,b);m.Jc(t,a?e:f);
m.da()}else m&&m.clear()};$.g.hD=function(){var a=new $.Gs(0);$.L(this,a);a.Ba(this);$.T(a,this.B3,this);return a};$.g.B3=function(){this.gb().da()};$.g.eC=function(a){if(!a||a.target!=this.ee()){var b=this.gb(),c=this.mc();a&&($.Ws(b,a.clientX,a.clientY,c),this.pa("mousemove",this.eC))}};
$.g.Cc=function(){if(this.X(16384)){this.fl={};for(var a=this.data().la(),b,c=0,d=Number.MAX_VALUE,e=-Number.MAX_VALUE,f=0;a.advance();)b=a.get("value"),TQ(b)?c++:(b=TQ(b)?0:$.P(b),d=Math.min(b,d),e=Math.max(b,e),f+=b);var a=a.Hb()-c,h;a?h=f/a:d=e=f=h=void 0;this.Ga("count",a);this.Ga("min",d);this.Ga("max",e);this.Ga("sum",f);this.Ga("average",$.Dl(h||window.NaN,$.Fl(f||0)));this.W(16384)}};
$.g.mc=function(){var a=this.la();this.ea||(this.ea=new $.Ns);this.ea.xh(a).Gh([this.Fd(a.sa()),this]);a={x:{value:a.get("x"),type:"string"},value:{value:a.get("value"),type:"number"},name:{value:a.get("name"),type:"string"},index:{value:a.sa(),type:"number"},chart:{value:this,type:""}};$.Bs(this.ea,a);return this.ea};$.g.Nh=function(){return this.mc()};
$.g.mj=function(a,b){for(var c=[],d=this.la().reset(),e;d.advance();){e=d.sa();var f=d.get("legendItem")||{},h=null;$.D(b)&&(h=this.mc(),h.mV=this.Fd(e),h=b.call(h,h));$.B(h)||(h=String($.n(d.get("name"))?d.get("name"):d.get("x")));var k=$.Tk("fill",1,!1),l=$.Tk("stroke",2,!1),m=$.Tk("hatchFill",3,!1),h={enabled:!0,meta:{pointIndex:e,pointValue:d.get("value"),ha:this},iconType:"square",text:h,iconStroke:l(this,$.Vk,!1),iconFill:k(this,$.Vk,!1),iconHatchFill:m(this,$.Vk,!1)};$.zc(h,f);h.sourceUid=
$.pa(this);h.sourceKey=e;c.push(h)}return c};$.g.pn=function(){return!0};$.g.zm=function(a,b){var c=a.Vf();if(!a||null!=c||(0,window.isNaN)(c))if(c=$.Nm(b.domTarget))c.ha=this};$.g.Cl=function(a,b){var c=a.Vf();if(!a||null!=c||(0,window.isNaN)(c))if(c=$.Nm(b.domTarget))c.ha=this};$.g.Bl=function(a,b){var c=a.Vf();if(!a||null!=c||(0,window.isNaN)(c))if(c=$.Nm(b.domTarget))c.ha=this};$.g.De=function(){return null};$.g.Vc=function(a){return $.n(a)?(a=$.rj(a),a!=this.ta&&(this.ta=a),this):this.ta};
$.g.Ej=function(){return!this.la().Hb()};$.g.O=function(){var a=OQ.J.O.call(this);a.type=this.Xa();a.data=this.data().O();a.palette=this.dC().O();a.hatchFillPalette=this.bC().O();a.markerPalette=this.cC().O();a.tooltip=this.gb().O();$.Ro(this,qR,a);a.normal=this.g.O();a.hovered=this.Jb.O();a.selected=this.$b.O();return{chart:a}};
$.g.fa=function(a,b){OQ.J.fa.call(this,a,b);$.Io(this,qR,a);this.g.ra(!!b,a);this.g.ra(!!b,a.normal);this.Jb.ra(!!b,a.hovered);this.$b.ra(!!b,a.selected);this.data(a.data);this.bC(a.hatchFillPalette);this.cC(a.markerPalette);this.dC(a.palette);"tooltip"in a&&this.gb().ra(!!b,a.tooltip)};$.g.ca=function(){$.Sc(this.ga,this.g,this.Jb,this.$b);OQ.J.ca.call(this)};
hR.prototype.Lu=function(a){this.labels.push(a);this.Ba.N("reversed")?$.hb(this.labels,function(a,c){return a.sa()-c.sa()}):$.hb(this.labels,function(a,c){return c.sa()-a.sa()})};hR.prototype.clear=function(){this.labels.length=0};var rR=OQ.prototype;rR.data=rR.data;rR.getType=rR.Xa;rR.palette=rR.dC;rR.tooltip=rR.gb;rR.hatchFillPalette=rR.bC;rR.markerPalette=rR.cC;rR.labels=rR.labels;rR.markers=rR.tb;rR.hover=rR.ih;rR.unhover=rR.Zc;rR.select=rR.select;rR.unselect=rR.kd;rR.getPoint=rR.Fd;
rR.normal=rR.Ua;rR.hovered=rR.Fb;rR.selected=rR.selected;$.Vn.funnel=oR;$.Vn.pyramid=pR;$.F("anychart.funnel",oR);$.F("anychart.pyramid",pR);}).call(this,$)}
if(!_.theme_pyramid_funnel){_.theme_pyramid_funnel=1;(function($){$.sa($.ea.anychart.themes.defaultTheme,{funnel:{title:{text:"Funnel Chart"},neckWidth:"30%",neckHeight:"25%",reversed:!0,normal:{labels:{position:"outside-left-in-column"}}},pyramid:{title:{text:"Pyramid Chart"},legend:{inverted:!0},normal:{labels:{position:"outside-left-in-column"}},reversed:!1}});}).call(this,$)}
$_=window.anychart;$_.$=$;$_._=_});